function Control(){this.render(),this.layout()}function Dot(){Control.call(this)}function Diamond(a,b){this.minute=a,this.sizeRadio=b||.01,this.arc=6*(this.minute-15)*2*Math.PI/360,Control.call(this)}function Second(a){this.fillColor=a||"red",Control.call(this)}function Minute(a){Second.call(this,a||"black")}function Hour(a){Second.call(this,a||"black")}function Clock(){var a=0,b=document.createElement("style");document.head.appendChild(b),b.sheet.insertRule("html{height:100%}",a++),b.sheet.insertRule("body{margin:0;height:100%}",a++),b.sheet.insertRule("*{box-sizing:border-box}",a++),b.sheet.insertRule("@keyframes rotate{from{ transform: rotate(0); } to{ transform: rotate(360deg); }}",a++);for(var c=new Dot,d=new Second,e=new Minute("blue"),f=new Hour("green"),g=[],a=0;60>a;a++){var h=a%5==0?.02:0;g.push(new Diamond(a,h))}window.onresize=function(){Control.windowResized(),c.layout(),d.layout(),e.layout(),f.layout();for(var a=0;60>a;a++)g[a].layout()}}Control.prototype.fillColor="black",Control.prototype.render=function(){this.ele=document.createElement("div"),this.ele.style.backgroundColor=this.fillColor,this.ele.style.position="absolute",document.body.appendChild(this.ele)},Control.prototype.layout=function(){},Control.windowResized=function(){Control.clientWidth=document.documentElement.clientWidth,Control.clientHeight=document.documentElement.clientHeight,Control.radius=Math.min(Control.clientWidth,Control.clientHeight)/2,console.log("窗口工作区宽高：%d, %d",Control.clientWidth,Control.clientHeight)},Control.windowResized(),Dot.prototype=Object.create(Control.prototype),Dot.prototype.constructor=Dot,Dot.prototype.render=function(){Control.prototype.render.call(this),this.ele.style.borderRadius="50%",this.ele.style.zIndex=10},Dot.prototype.layout=function(){var a=.04*Control.radius;this.ele.style.width=2*a+"px",this.ele.style.height=2*a+"px",this.ele.style.top=Control.clientHeight/2-a+"px",this.ele.style.left=Control.clientWidth/2-a+"px"},Diamond.prototype=Object.create(Control.prototype),Diamond.prototype.constructor=Diamond,Diamond.prototype.render=function(){Control.prototype.render.call(this),this.ele.style.borderRadius="50%",this.ele.style.zIndex=5},Diamond.prototype.layout=function(){var a=Control.radius*this.sizeRadio;this.ele.style.width=2*a+"px",this.ele.style.height=2*a+"px";var b=.9*Control.radius,c=b*Math.cos(this.arc),d=b*Math.sin(this.arc);this.ele.style.top=Control.clientHeight/2+d-a+"px",this.ele.style.left=Control.clientWidth/2+c-a+"px"},Second.prototype=Object.create(Control.prototype),Second.prototype.constructor=Second,Second.prototype.calcArgs=function(){var a={};a.duration=60,a.zIndex=9;var b=new Date,c=-1*b.getSeconds();return a.delay=c-15,a},Second.prototype.calcLayoutArgs=function(){var a={};return a.radius=.9*Control.radius,a.width=1.15*a.radius,a.height=.01*a.radius,a},Second.prototype.render=function(){var a=this.calcArgs();Control.prototype.render.call(this),this.ele.style.backgroundColor="initial",this.ele.style.animationName="rotate",this.ele.style.animationTimingFunction="linear",this.ele.style.animationIterationCount="infinite",this.ele.style.animationDuration=a.duration+"s",this.ele.style.animationDelay=a.delay+"s",this.ele.style.zIndex=a.zIndex,this.el=document.createElement("span"),this.el.style.display="block",this.el.style.backgroundColor=this.fillColor,this.ele.appendChild(this.el)},Second.prototype.layout=function(){var a=this.calcLayoutArgs();this.ele.style.width=2*a.radius+"px",this.ele.style.height="10px",this.ele.style.top=Control.clientHeight/2-5+"px",this.ele.style.left=Control.clientWidth/2-a.radius+"px",this.el.style.width=a.width+"px",this.el.style.height=a.height+"px",this.el.style.marginTop=5-a.height/2+"px",this.el.style.borderRadius=a.height/2+"px"},Minute.prototype=Object.create(Second.prototype),Minute.prototype.constructor=Minute,Minute.prototype.calcArgs=function(){var a={};a.duration=3600,a.zIndex=8;var b=new Date,c=-1*b.getSeconds(),d=-1*b.getMinutes();return a.delay=60*d-900+c,a},Minute.prototype.calcLayoutArgs=function(){var a={};return a.radius=.8*Control.radius,a.width=1.12*a.radius,a.height=.03*a.radius,a},Hour.prototype=Object.create(Second.prototype),Hour.prototype.constructor=Hour,Hour.prototype.calcArgs=function(){var a={};a.duration=43200,a.zIndex=8;var b=new Date,c=-1*b.getSeconds(),d=-1*b.getMinutes(),e=b.getHours();return e=e>12?e-12:e,e=-1*e,a.delay=60*e*60-10800+60*d+c,a},Hour.prototype.calcLayoutArgs=function(){var a={};return a.radius=.6*Control.radius,a.width=1.13*a.radius,a.height=.05*a.radius,a};